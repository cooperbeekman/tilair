<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tilair</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #000;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        }

        #container {
            filter: url(#threshold) blur(0.6px);
            -webkit-filter: url(#threshold) blur(0.6px);
            will-change: filter;
            transform: translateZ(0);
            -webkit-transform: translateZ(0);
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100vh;
        }

        #text1, #text2 {
            position: absolute;
            width: 100%;
            text-align: center;
            color: #fff;
            font-size: 62px;
            font-weight: bold;
            user-select: none;
            -webkit-user-select: none;
            will-change: filter, opacity;
            transform: translateZ(0);
            -webkit-transform: translateZ(0);
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            padding: 0 20px;
        }

        @media (max-width: 768px) {
            #text1, #text2 {
                font-size: 36px;
            }
        }

        /* Hide SVG filter visually */
        #filters {
            position: absolute;
            width: 0;
            height: 0;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div id="container">
        <span id="text1"></span>
        <span id="text2"></span>
    </div>

    <!-- Merging Effect SVG Filter -->
    <svg id="filters">
        <defs>
            <filter id="threshold">
                <feColorMatrix
                    in="SourceGraphic"
                    type="matrix"
                    values="1 0 0 0 0
                            0 1 0 0 0
                            0 0 1 0 0
                            0 0 0 255 -140"
                />
            </filter>
        </defs>
    </svg>

    <!-- Morphing Animation Script -->
    <script>
        const elts = {
            text1: document.getElementById("text1"),
            text2: document.getElementById("text2"),
        };

        const texts = ["...", "..", ".", "Tilair", "Is", "A", "Holding", "Company", "/", "Venture", "Studio", "Based", "In", "Puerto Rico ðŸ‡µðŸ‡·", "That", "Builds", "and", "Invests", "In", "Crypto", "AI", "Health Tech", "Online Education", "Defense Tech", "For", "All", "Inquiries", "Email", "cole", "@", "tilair.com"];

        // Detect mobile for adjusted blur values
        const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
        const maxBlur = isMobile ? 4 : 8;

        const morphTime = 0.7;
        const cooldownTime = 0.25;
        let textIndex = texts.length - 1;
        let time = new Date();
        let morph = 0;
        let cooldown = cooldownTime;

        elts.text1.textContent = texts[textIndex % texts.length];
        elts.text2.textContent = texts[(textIndex + 1) % texts.length];

        function setFilter(element, value) {
            element.style.filter = value;
            element.style.webkitFilter = value;
        }

        function doMorph() {
            morph -= cooldown;
            cooldown = 0;
            let fraction = morph / morphTime;
            if (fraction > 1) {
                cooldown = cooldownTime;
                fraction = 1;
            }
            setMorph(fraction);
        }

        function setMorph(fraction) {
            const blur2 = Math.min(maxBlur / fraction - maxBlur, 100);
            const blur1 = Math.min(maxBlur / (1 - fraction) - maxBlur, 100);

            setFilter(elts.text2, `blur(${blur2}px)`);
            elts.text2.style.opacity = `${Math.pow(fraction, 0.4) * 100}%`;

            setFilter(elts.text1, `blur(${blur1}px)`);
            elts.text1.style.opacity = `${Math.pow(1 - fraction, 0.4) * 100}%`;

            elts.text1.textContent = texts[textIndex % texts.length];
            elts.text2.textContent = texts[(textIndex + 1) % texts.length];
        }

        function doCooldown() {
            morph = 0;
            setFilter(elts.text2, "");
            elts.text2.style.opacity = "100%";
            setFilter(elts.text1, "");
            elts.text1.style.opacity = "0%";
        }

        function animate() {
            requestAnimationFrame(animate);
            let newTime = new Date();
            let shouldIncrementIndex = cooldown > 0;
            let dt = (newTime - time) / 1000;
            time = newTime;
            cooldown -= dt;
            if (cooldown <= 0) {
                if (shouldIncrementIndex) {
                    textIndex++;
                }
                doMorph();
            } else {
                doCooldown();
            }
        }

        animate();
    </script>
</body>
</html>
