<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
<title>Tilair</title>
<link rel="icon" type="image/png" href="favicon.png">
<link rel="apple-touch-icon" href="favicon.png">

<link href="https://fonts.googleapis.com/css2?family=Raleway:wght@900&display=swap" rel="stylesheet">

<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: #000;
    height: 100vh;
    height: 100dvh;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  #container {
    position: relative;
    width: 100%;
    max-width: 1200px;
    height: 120px;
    display: flex;
    align-items: center;
    justify-content: center;
    -webkit-filter: url(#threshold) blur(0.6px);
    filter: url(#threshold) blur(0.6px);
  }

  #text1, #text2 {
    position: absolute;
    width: 100%;
    font-family: 'Raleway', sans-serif;
    font-size: clamp(28px, 10vw, 80px);
    font-weight: 900;
    text-align: center;
    color: #fff;
    padding: 0 20px;
    -webkit-user-select: none;
    user-select: none;
    will-change: filter, opacity;
  }

  /* Fallback for browsers without SVG filter support */
  @supports not (filter: url(#threshold)) {
    #container {
      filter: none;
    }
    #text1, #text2 {
      transition: opacity 0.3s ease;
    }
  }

  svg {
    position: absolute;
    width: 0;
    height: 0;
    pointer-events: none;
  }
</style>
</head>

<body>

<svg>
  <defs>
    <filter id="threshold">
      <feColorMatrix in="SourceGraphic" type="matrix"
        values="1 0 0 0 0
                0 1 0 0 0
                0 0 1 0 0
                0 0 0 255 -140" />
    </filter>
  </defs>
</svg>

<div id="container">
  <span id="text1"></span>
  <span id="text2"></span>
</div>

<script>
const text1 = document.getElementById("text1");
const text2 = document.getElementById("text2");

const texts = [
  "...", "..", ".",
  "Tilair",
  "Is", "A",
  "Holding", "Company",
  "/",
  "Venture", "Studio",
  "Based", "In",
  "Puerto Rico",
  "That", "Builds",
  "and", "Invests", "In",
  "Crypto", "AI",
  "Health Tech",
  "Online Education",
  "Defense Tech",
  "For", "All", "Inquiries",
  "Email",
  "cole", "@", "tilair.com"
];

const morphTime = 1;
const cooldownTime = 0.5;

let textIndex = texts.length - 1;
let morph = 0;
let cooldown = cooldownTime;
let lastTime = Date.now();

text1.textContent = texts[textIndex % texts.length];
text2.textContent = texts[(textIndex + 1) % texts.length];

function setMorph(fraction) {
  const blur2 = Math.min(8 / fraction - 8, 100);
  const blur1 = Math.min(8 / (1 - fraction) - 8, 100);

  text2.style.filter = `blur(${blur2}px)`;
  text2.style.opacity = Math.pow(fraction, 0.4);

  text1.style.filter = `blur(${blur1}px)`;
  text1.style.opacity = Math.pow(1 - fraction, 0.4);
}

function doCooldown() {
  morph = 0;

  text2.style.filter = "";
  text2.style.opacity = 1;

  text1.style.filter = "";
  text1.style.opacity = 0;
}

function animate() {
  requestAnimationFrame(animate);

  const now = Date.now();
  const dt = (now - lastTime) / 1000;
  lastTime = now;

  cooldown -= dt;

  if (cooldown <= 0) {
    if (morph === 0) {
      textIndex++;
      text1.textContent = texts[textIndex % texts.length];
      text2.textContent = texts[(textIndex + 1) % texts.length];
    }

    morph += dt;

    let fraction = morph / morphTime;

    if (fraction >= 1) {
      fraction = 1;
      cooldown = cooldownTime;
      morph = 0;
    }

    setMorph(fraction);
  } else {
    doCooldown();
  }
}

animate();
</script>

</body>
</html>
